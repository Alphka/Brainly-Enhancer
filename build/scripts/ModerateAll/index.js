(()=>{"use strict";const e=function(e,t){var n=Date.now(),r=(null==t?void 0:t.element)||document;return new Promise((function(o,i){var l=window.setInterval((function(){if(r.querySelector(e))return clearInterval(l),o(Object.assign((null==t?void 0:t.multiple)?r.querySelectorAll(e):r.querySelector(e),{isError:!1}));(null==t?void 0:t.expires)&&Date.now()>=t.expires+n&&(t.noError?o({isError:!0}):i())}))}))},t=function(){function e(){}return e.prototype.ButtonsListener=function(e,t){var n=t.parentElement.parentElement.classList.contains("header")?t.parentElement.parentElement.parentElement.querySelector(":scope > .contents > .action-delete"):t.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(":scope > .action-delete");n.querySelectorAll(":scope > div > div:nth-of-type(1) > span.pull-left")[0].querySelector(":scope > input").click();var r=n.querySelectorAll(":scope > div > .subs > .subcategories");n.querySelector(":scope > div > p:nth-of-type(1) textarea").value=r[0].querySelector(":scope > input").getAttribute("z-text");var o=n.querySelector("input.dont-return-points"),i=n.querySelector("input.take-answerers-points");(null==o?void 0:o.checked)||null==o||o.click(),(null==i?void 0:i.checked)||null==i||i.click()},e}();var n=function(){function t(e){this.opened=!1,this.callback=e,this.Init()}return t.prototype.Init=function(){return t=this,n=void 0,o=function(){var t;return function(e,t){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return[4,e("#toplayer")];case 1:return t=n.sent(),this.toplayer=t,new MutationObserver(this.listener.bind(this)).observe(t,{attributes:!0}),[2]}}))},new((r=void 0)||(r=Promise))((function(e,i){function l(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,c)}u((o=o.apply(t,n||[])).next())}));var t,n,r,o},t.prototype.listener=function(e,t){this.callback(!this.toplayer.classList.contains("hidden"))},t}(),r=!1;new n((function(n){return o=this,i=void 0,c=function(){var o,i;return function(e,t){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(l){switch(l.label){case 0:return n?(r||(r=!0,window.addEventListener("keyup",(function(e){if("Escape"===e.key){var t=document.querySelector("#toplayer .contener.mod.moderation .close");t&&t.click()}}))),[4,e(".btn.btn-danger.delete",{multiple:!0})]):[2];case 1:return o=l.sent(),i=new t,Array.from(o).forEach((function(e){e.addEventListener("click",(function(t){return i.ButtonsListener(t,e)}),{once:!0})})),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{u(c.next(e))}catch(e){t(e)}}function r(e){try{u(c.throw(e))}catch(e){t(e)}}function u(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}u((c=c.apply(o,i||[])).next())}));var o,i,l,c}))})();